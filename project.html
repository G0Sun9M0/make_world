<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ˜˜Wordle(ê³ ì„±ëª¨, ì„œìƒí˜¸)</title>
    <style>
        input {
            width: 50px;
            height: 50px;
            border: 1 solid #e5e7eb;
            font-size: 35px;
            border-radius: .375rem;
            text-align: center;
            margin: 0.3px;
        }

        body {
            text-align: center;
        }

        nav {
            margin-top: 1px;
            font-size: 18px;
        }

        #timer,
        #attempts,
        #stage,
        #timeLimit {
            font-size: 18px;
            margin-top: 10px;
        }

        progress {
            width: 7;
            /* í”„ë¡œê·¸ë ˆìŠ¤ë°”ì˜ ë„ˆë¹„ */
            height: 20px;
            /* í”„ë¡œê·¸ë ˆìŠ¤ë°”ì˜ ë†’ì´ */
            background-color: green;
        }

        .hidden {
            display: none;
        }

        /* ì–¸ì–´ ë° ëª¨ë“œ ì„ íƒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .select-btn {
            padding: 10px 20px;
            font-size: 1.3em;
            margin: 10px;
            cursor: pointer;
        }

        /* ê²Œì„ ì‹œì‘ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .start-btn {
            font-size:1.1em; padding:5px 20px;
            
        }
    </style>
</head>

<body>
    <header>
        <h1>ğŸ˜˜Wordle</h1>
        <hr>
    </header>

    <!-- ì–¸ì–´ ì„ íƒ ë° ëª¨ë“œ ì„ íƒ í™”ë©´ -->
    <div id="startScreen">
        <!-- ì–¸ì–´ ì„ íƒ ë²„íŠ¼ -->
        <div>
            <input type="radio" id="englishButton" class="select-btn" value="ì˜ì–´ë¡œ í”Œë ˆì´" name = "languege"><span>ì˜ì–´</span>
            <input type="radio" id="koreanButton" class="select-btn" value="í•œê¸€ë¡œ í”Œë ˆì´" name = "languege"><span>í•œê¸€(ê³µì‚¬ì¤‘)</span>
        </div>

        <!-- ëª¨ë“œ ì„ íƒ ë²„íŠ¼ -->
        <div>
            <input type="radio" id="normalModeButton" class="select-btn" value="ì¼ë°˜ ëª¨ë“œ" name="mode"><span>ì¼ë°˜ ëª¨ë“œ</span>
            <input type="radio" id="challengeButton" class="select-btn" value="ì±Œë¦°ì§€ ëª¨ë“œ" name="mode"><span>ì±Œë¦°ì§€ ëª¨ë“œ</span>
        </div>

        <!-- ê²Œì„ ì‹œì‘ ë²„íŠ¼ -->
        <div>
            <button id="startButton" class="start-btn" value="ê²Œì„ ì‹œì‘">ê²Œì„ì‹œì‘</button>
        </div>
    </div>

    <!-- ê²Œì„ ì •ë³´ ì„¹ì…˜ -->
    <nav id="gameInfo" class="hidden">
        <div>í˜„ì¬ ë‹¨ê³„: <span id="currentStage">1</span></div>
        <div id="timer">í”Œë ˆì´ ì‹œê°„: <span id="time">00:00</span></div>
        <div id="timeLimit" class="hidden">
            ë‚¨ì€ ì‹œê°„:
            <progress id="progressBar" value="100" max="100"></progress>
        </div>
        <div id="attempts">ì‹œë„ íšŸìˆ˜: <span id="attemptCount">0</span> / <span id="maxAttempts">ë¬´ì œí•œ</span></div>
    </nav>

    <section id="gameSection" class="hidden">
        <br>
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
    </section>

    <script>
        var ë‹¨ì–´ëª©ë¡ = {
            english: ['degree', 'behalf', 'adjust', 'stitch', 'summit', 'delete', 'revive', 'refuse', 'motion', 'voyage', 'filter', 'remove', 'thirst', 'knight', 'famous', 'manage', 'bridge', 'medium', 'should', 'chance', 'effect', 'driver', 'murder', 'belong', 'depict', 'extent', 'charge', 'aspire', 'mobile', 'spread', 'target', 'modest', 'polish', 'gather', 'slight', 'statue', 'museum', 'method', 'symbol', 'annual', 'basket', 'expose', 'borrow', 'intent', 'reason', 'tongue', 'option', 'pretty', 'occupy', 'scheme', 'secret', 'insist', 'stairs', 'versus', 'window', 'tenant', 'resort', 'impact', 'defeat', 'steady', 'legend', 'mutual', 'budget', 'injure', 'resume', 'assert', 'screen', 'salary', 'regret', 'invent', 'pocket', 'recall', 'weapon', 'orange', 'family', 'reveal', 'silent', 'engine', 'absent', 'potato', 'fright', 'mother', 'supply', 'senior', 'desert', 'finish', 'church', 'remote', 'search', 'urgent', 'puzzle', 'luxury', 'survey', 'theory', 'velvet', 'either', 'throat', 'happen', 'insert', 'spider', 'monkey', 'little', 'invite', 'except', 'status', 'hammer', 'import', 'afraid', 'mirror', 'immune', 'lesson', 'spouse', 'within', 'format', 'priest', 'volume', 'almost', 'beside', 'patent', 'talent', 'inside', 'anchor', 'govern', 'punish', 'revise', 'become', 'clever', 'tunnel', 'inform', 'resign', 'combat', 'poison', 'cousin', 'lounge', 'employ', 'object', 'planet', 'unique', 'splash', 'confer', 'figure', 'praise', 'formal', 'soccer', 'escort', 'attach', 'refine', 'animal', 'timber', 'ensure', 'branch', 'person', 'simple', 'sudden', 'yellow', 'plenty', 'mortal', 'suffer', 'marvel', 'couple', 'locate', 'regard', 'profit', 'treaty', 'marine', 'double', 'sphere', 'former', 'memory', 'defend', 'emerge', 'clause', 'cruise', 'impose', 'poster', 'strict', 'engage', 'minute', 'follow', 'forbid', 'custom', 'female', 'island', 'prison', 'appeal', 'betray', 'prefer', 'before', 'avenue', 'retail', 'shield', 'appear', 'weight', 'wicked', 'finger', 'unless', 'eraser', 'bounce', 'critic', 'arrive', 'bottom', 'answer', 'breast', 'county', 'remedy', 'random', 'column', 'guitar', 'shower', 'subway', 'polite', 'tackle', 'beyond', 'vanish', 'cattle', 'submit', 'reform', 'exceed', 'honest', 'latter', 'casual', 'letter', 'assess', 'doctor', 'report', 'health', 'modern', 'subtle', 'retain', 'offend', 'arrest', 'rescue', 'danger', 'launch', 'market', 'repair', 'thrill', 'glance', 'normal', 'speech', 'camera', 'nephew', 'secure', 'induce', 'scream', 'series', 'access', 'oblige', 'resist', 'public', 'career', 'gamble', 'powder', 'derive', 'fellow', 'remain', 'period', 'tattoo', 'trophy', 'gender', 'review', 'abroad', 'around', 'reduce', 'reject', 'accept', 'cotton', 'admire', 'preach', 'bundle', 'entire', 'future', 'censor', 'wonder', 'depend', 'causal', 'assist', 'repeat', 'bottle', 'devote', 'valley', 'bullet', 'agenda', 'finite', 'please', 'detail', 'master', 'likely', 'detach', 'settle', 'parent', 'accuse', 'single', 'divide', 'heaven', 'rocket', 'though', 'patrol', 'indeed', 'sector', 'proper', 'phrase', 'border', 'strain', 'threat', 'cowboy', 'stress', 'agency', 'nobody', 'sacred', 'detect', 'temple', 'bubble', 'thread', 'forget', 'create', 'result', 'kettle', 'mature', 'absorb', 'hungry', 'virtue', 'notion', 'pursue', 'colony', 'expect', 'extend', 'domain', 'stream', 'silver', 'ladder', 'toilet', 'office', 'tender', 'system', 'blonde', 'estate', 'supper', 'afford', 'design', 'recent', 'return', 'superb', 'mental', 'donate', 'margin', 'matter', 'scarce', 'handle', 'advise', 'evolve', 'button', 'accent', 'verbal', 'jungle', 'aboard', 'fulfil', 'manner', 'forest', 'gentle', 'retire', 'purple', 'corner', 'switch', 'exotic', 'travel', 'behind', 'friend', 'region', 'relate', 'source', 'castle', 'racial', 'enough', 'assume', 'shadow', 'middle', 'smooth', 'number', 'aspect', 'garden', 'magnet', 'tragic', 'square', 'decide', 'wealth', 'strike', 'visual', 'pardon', 'lawyer', 'always', 'flight', 'breeze', 'stripe', 'needle', 'rhythm', 'inject', 'across', 'excess', 'insult', 'oppose', 'rather', 'moment', 'invade', 'commit', 'ground', 'invest', 'height', 'winter', 'escape', 'canvas', 'cancer', 'fabric', 'picnic', 'orient', 'reside', 'decent', 'stable', 'pepper', 'income', 'horror', 'motive', 'direct', 'effort', 'cinema', 'bother', 'global', 'asleep', 'drawer', 'vessel', 'excite', 'bitter', 'demand', 'factor', 'chorus', 'hardly', 'suburb', 'junior', 'people', 'insect', 'choose', 'bright', 'empire', 'shrink', 'origin', 'starve', 'listen', 'compel', 'behave', 'affair', 'absurd', 'convey', 'output', 'attend', 'liquid', 'beauty', 'father', 'lemony', 'dinner', 'device', 'infant', 'record', 'tissue', 'client', 'modify', 'equate', 'update', 'decade', 'ignore', 'hazard', 'police', 'expand', 'attain', 'damage', 'export', 'fasten', 'sister', 'comedy', 'vacuum', 'freeze', 'obsess', 'insure', 'accord', 'flower', 'rubber', 'select', 'obtain', 'affect', 'genius', 'guilty', 'assign', 'remind', 'virgin', 'clinic', 'infect', 'crisis', 'ethnic', 'author', 'cancel', 'banana', 'intend', 'desire', 'social', 'devise', 'strong', 'nation', 'street', 'assure', 'native', 'victim', 'expert', 'packet', 'remark', 'collar', 'divine', 'rabbit', 'palace', 'reward', 'school', 'during', 'policy', 'addict', 'spirit', 'string', 'prompt', 'narrow', 'burden', 'attack', 'pencil', 'notice', 'permit', 'stroke', 'garage', 'define', 'change', 'debate', 'severe', 'foster', 'recipe', 'wander', 'nature', 'season', 'muscle', 'amount', 'circle', 'carrot', 'fierce', 'actual', 'excuse', 'bishop', 'credit', 'endure', 'prince', 'battle']
,
            korean: ['ì„¼ì„œ', 'ë…¸íŠ¸ë¶', 'ë™ë¬¼', 'ì°½ë¬¸', 'ì‚¬ëŒ', 'í•™êµ', 'ì¹œêµ¬', 'ê°€ì¡±', 'ìˆ«ì', 'ì •ì›']
        };

        var í˜„ì¬ë‹¨ì–´ëª©ë¡ = ë‹¨ì–´ëª©ë¡.english;
        var ì‚¬ìš©ëœë‹¨ì–´ = [];
        var ë‹¨ê³„ = 1;
        var ìµœëŒ€ë‹¨ê³„ = 6;
        var ë‹µ;
        var ì‹œë„íšŸìˆ˜ = 0;
        var ìµœëŒ€ì‹œë„ = Infinity;
        var ì œí•œì‹œê°„ = 180;
        var íƒ€ì´ë¨¸ì‘ë™ì¤‘ = false;
        var ì‹œì‘ì‹œê°„;
        var ì œí•œì‹œê°„íƒ€ì´ë¨¸;
        var ì±Œë¦°ì§€ëª¨ë“œ = false;
        var í˜„ì¬ì–¸ì–´ = 'english';
        
        // ê° ë‹¨ê³„ë³„ ì œí•œ ì‹œê°„ê³¼ ì‹œë„ íšŸìˆ˜ ì„¤ì •
        var ë‹¨ê³„ì •ë³´ = [
            { ì‹œê°„: 180, ì‹œë„íšŸìˆ˜: Infinity }, // 1ë‹¨ê³„
            { ì‹œê°„: 150, ì‹œë„íšŸìˆ˜: 15 },      // 2ë‹¨ê³„
            { ì‹œê°„: 120, ì‹œë„íšŸìˆ˜: 13 },      // 3ë‹¨ê³„
            { ì‹œê°„: 90, ì‹œë„íšŸìˆ˜: 11 },       // 4ë‹¨ê³„
            { ì‹œê°„: 60, ì‹œë„íšŸìˆ˜: 8 },        // 5ë‹¨ê³„
            { ì‹œê°„: 30, ì‹œë„íšŸìˆ˜: 6 }         // 6ë‹¨ê³„
        ];

        // ì‹œì‘ í•¨ìˆ˜ (ì¼ë°˜ ëª¨ë“œ)
        function startNormalMode(i) {
            ìµœëŒ€ì‹œë„ = Infinity;  // ì¼ë°˜ ëª¨ë“œì—ì„œ ìµœëŒ€ ì‹œë„ íšŸìˆ˜ëŠ” ë¬´ì œí•œìœ¼ë¡œ ì„¤ì •
            //ì¼ë°˜ëª¨ë“œ = true;
            ì±Œë¦°ì§€ëª¨ë“œ = false; // ëª¨ë“œ ì„¤ì •
            //alert('ì¼ë°˜ ëª¨ë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.');
        }

        // ì‹œì‘ í•¨ìˆ˜ (ì±Œë¦°ì§€ ëª¨ë“œ)
        function startChallengeMode() {
            //ì¼ë°˜ëª¨ë“œ = false;
            ì±Œë¦°ì§€ëª¨ë“œ = true; // ëª¨ë“œ ì„¤ì •
            ì œí•œì‹œê°„ = 30;
            ìµœëŒ€ì‹œë„ = 6;  // ìµœëŒ€ ì‹œë„ íšŸìˆ˜ë¥¼ 6ìœ¼ë¡œ ê³ ì •
            document.getElementById('timeLimit').classList.remove('hidden');
            document.getElementById('progressBar').max = ì œí•œì‹œê°„;
            document.getElementById('progressBar').value = ì œí•œì‹œê°„;
            document.getElementById('maxAttempts').textContent = ìµœëŒ€ì‹œë„; // UIì— ë°˜ì˜
            //alert('ì±Œë¦°ì§€ ëª¨ë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.');
        }

        // ëª¨ë“œ ì„ íƒ ë²„íŠ¼
        document.getElementById('normalModeButton').addEventListener('click', startNormalMode);
        document.getElementById('challengeButton').addEventListener('click', startChallengeMode);

        // ê²Œì„ ì‹œì‘ ë²„íŠ¼
        document.getElementById('startButton').addEventListener('click', function () {
            // ì‹œì‘ í™”ë©´ì„ ìˆ¨ê¸°ê³  ê²Œì„ í™”ë©´ì„ í‘œì‹œ
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameInfo').classList.remove('hidden');
            document.getElementById('gameSection').classList.remove('hidden');
            ìƒˆë‹¨ì–´();
        });

        function ìƒˆë‹¨ì–´() {
            var í›„ë³´ë‹¨ì–´ëª©ë¡ = í˜„ì¬ë‹¨ì–´ëª©ë¡.filter(word => !ì‚¬ìš©ëœë‹¨ì–´.includes(word));
            ë‹µ = í›„ë³´ë‹¨ì–´ëª©ë¡[Math.floor(Math.random() * í›„ë³´ë‹¨ì–´ëª©ë¡.length)];
            ì‚¬ìš©ëœë‹¨ì–´.push(ë‹µ);
            console.log(ë‹µ);
        }

        function updateTimer() {
            var í˜„ì¬ì‹œê°„ = new Date();
            var ê²½ê³¼ì‹œê°„ = Math.floor((í˜„ì¬ì‹œê°„ - ì‹œì‘ì‹œê°„) / 1000);
            var ë¶„ = String(Math.floor(ê²½ê³¼ì‹œê°„ / 60)).padStart(2, '0');
            var ì´ˆ = String(ê²½ê³¼ì‹œê°„ % 60).padStart(2, '0');
            document.getElementById('time').textContent = `${ë¶„}:${ì´ˆ}`;
        }

        function startTimeLimitTimer() {
            var ë‚¨ì€ì‹œê°„ = ì œí•œì‹œê°„;
            var progressBar = document.getElementById('progressBar');
            progressBar.max = ì œí•œì‹œê°„;
            progressBar.value = ì œí•œì‹œê°„;

            ì œí•œì‹œê°„íƒ€ì´ë¨¸ = setInterval(function () {
                ë‚¨ì€ì‹œê°„--;
                progressBar.value = ë‚¨ì€ì‹œê°„;

                if (ë‚¨ì€ì‹œê°„ <= 0) {
                    clearInterval(ì œí•œì‹œê°„íƒ€ì´ë¨¸);
                    alert("ì‹œê°„ ì´ˆê³¼! ê²Œì„ì´ ì¢…ë£Œë©ë‹ˆë‹¤.");
                    resetGame();
                }
            }, 1000);
        }

        function ì œì¶œí•˜ê¸°() {
            var input = document.querySelectorAll('.input');
            var ë¹ˆì¹¸ = false;
            var ë¹ˆì¹¸ì¸ë±ìŠ¤ = -1;

            // ì…ë ¥ì¹¸ì´ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸
            input.forEach(function (inputField, index) {
                if (inputField.value === '') {
                    ë¹ˆì¹¸ = true;
                    ë¹ˆì¹¸ì¸ë±ìŠ¤ = index;
                }
            });

            // ë§Œì•½ ë¹„ì–´ìˆëŠ” ì¹¸ì´ ìˆìœ¼ë©´ ì•Œë¦¼ ì¶œë ¥ ë° í•´ë‹¹ ì¹¸ìœ¼ë¡œ ì´ë™
            if (ë¹ˆì¹¸) {
                alert("ì…ë ¥ì´ ì•ˆë˜ì—ˆìŠµë‹ˆë‹¤");
                ë¹ˆì¹¸ì¸ë±ìŠ¤;  // ë¹ˆì¹¸ìœ¼ë¡œ ì»¤ì„œ ì´ë™
                return;  // ì œì¶œ ì¤‘ë‹¨
            }

            // ì œì¶œí•˜ê¸° í•¨ìˆ˜ ë‚´ ì‹œë„ íšŸìˆ˜ ì²´í¬ ë¶€ë¶„ ìˆ˜ì •
            if (ì‹œë„íšŸìˆ˜ >= (ìµœëŒ€ì‹œë„-1)) {
                alert(`ì‹œë„ íšŸìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤!`);
                resetGame();
                return;
            }

            // ì…ë ¥ í•„ë“œ ê°’ì„ í•˜ë‚˜ì˜ ë‹¨ì–´ë¡œ ê²°í•©
            var userInputWord = Array.from(document.querySelectorAll('.input')).map(input => input.value).join('');

            // ë‹¨ì–´ ëª©ë¡ì— ìˆëŠ”ì§€ í™•ì¸
            if (!í˜„ì¬ë‹¨ì–´ëª©ë¡.includes(userInputWord)) {
                alert(`ë‹¨ì–´ ëª©ë¡ì— ì—†ìŠµë‹ˆë‹¤.`);
                return;
            }

            // ì‹œë„ íšŸìˆ˜ë¥¼ 1ì”© ì¦ê°€ì‹œí‚¤ë„ë¡ ìˆ˜ì •
            ì‹œë„íšŸìˆ˜++; // ì´ ë¶€ë¶„ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ í•œ ì¤„ë¡œ ì‹œë„ íšŸìˆ˜ê°€ 1ë¡œ ì¹´ìš´íŠ¸ë©ë‹ˆë‹¤.
            document.getElementById('attemptCount').textContent = ì‹œë„íšŸìˆ˜;
        
            var input = document.querySelectorAll('.input');
            var ë§ì¶˜ê°¯ìˆ˜ = 0;

        
            for (let i = 0; i < 6; i++) {
                if (input[i].value === ë‹µ[i]) {
                    input[i].style.background = '#22c55e';
                    ë§ì¶˜ê°¯ìˆ˜++;
                } else if (ë‹µ.includes(input[i].value)) {
                    input[i].style.background = '#eab308';
                } else {
                    input[i].style.background = '#6b7280';
                    input[i].style.color = '#ffffff';
                }
                input[i].classList.remove('input');
            }

            if (ë§ì¶˜ê°¯ìˆ˜ === 6) {
                //alert(`ì„±ê³µ! ${ì‹œë„íšŸìˆ˜}ë²ˆ ë§Œì— ë§ì·„ìŠµë‹ˆë‹¤.`);
                if (ì±Œë¦°ì§€ëª¨ë“œ) {
                    ë‹¨ê³„++;
                    ë‹¤ìŒë‹¨ê³„();  // ì±Œë¦°ì§€ ëª¨ë“œì—ì„œëŠ” ë¬´í•œìœ¼ë¡œ ê³„ì† ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰
                } else if (ë‹¨ê³„ < ìµœëŒ€ë‹¨ê³„) {
                    // ì¼ë°˜ ëª¨ë“œì—ì„œëŠ” ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰
                    ë‹¨ê³„++;
                    ë‹¤ìŒë‹¨ê³„();
                } else {
                    // ëª¨ë“  ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆì„ ë•Œ ê²Œì„ ì¢…ë£Œ
                    ì™„ë£Œ();
                }
                return;
            }
        
            var template = `
            <div style="margin-top: 5px;">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
            </div>`;
            document.querySelector('#gameSection').insertAdjacentHTML('beforeend', template);
            setInputFilter();
            setAutoTab();
        }

        function setInputFilter() {
            var inputs = document.querySelectorAll('.input');
            inputs.forEach(function (input) {
                input.addEventListener('input', function () {
                    this.value = this.value.replace(/[^a-zA-Zã„±-ã…ã…-ã…£ê°€-í£]/g, '');
                });
            });
        }

        // ê¸°ì¡´ setAutoTab() í•¨ìˆ˜ ë‚´ì—ì„œ, íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì •
        function setAutoTab() {
            var inputs = document.querySelectorAll('.input');
            inputs.forEach(function (input, index) {
            input.addEventListener('keydown', function (event) {
                // Backspace í‚¤ ì²˜ë¦¬
                if (event.key === 'Backspace') {
                    if (this.value === '' && index > 0) {
                        inputs[index - 1].focus();  // ì´ì „ ì…ë ¥ í•„ë“œë¡œ ì´ë™
                        inputs[index - 1].value = '';  // ì´ì „ ì…ë ¥ í•„ë“œì˜ ê°’ ì‚­ì œ
                    }
                }
            });

            input.addEventListener('input', function () {
                this.value = this.value.replace(/[^a-zA-Zã„±-ã…ã…-ã…£ê°€-í£]/g, '');

                if (í˜„ì¬ì–¸ì–´ === 'english'){
                    this.value = this.value.replace(/[^a-zA-Z]/g, '');} 
                if (í˜„ì¬ì–¸ì–´ === 'korean'){
                    this.value = this.value.replace(/[^ã„±-ã…ã…-ã…£ê°€-í£]/g, '');}

                if (ì±Œë¦°ì§€ëª¨ë“œ){
                    // ì²« ë²ˆì§¸ ì…ë ¥ ì‹œ íƒ€ì´ë¨¸ ì‹œì‘
                    if (index === 0 && !íƒ€ì´ë¨¸ì‘ë™ì¤‘) {
                        ì‹œì‘íƒ€ì´ë¨¸();  // ì¼ë°˜ íƒ€ì´ë¨¸ ì‹œì‘
                        // ì±Œë¦°ì§€ ëª¨ë“œì¼ ë•ŒëŠ” ë³„ë„ë¡œ ì œí•œì‹œê°„ íƒ€ì´ë¨¸ë„ ì‹œì‘
                        clearInterval(ì œí•œì‹œê°„íƒ€ì´ë¨¸);  // ì´ì „ íƒ€ì´ë¨¸ ì´ˆê¸°í™”
                        startTimeLimitTimer();  // ì œí•œì‹œê°„ íƒ€ì´ë¨¸ ì‹œì‘
                    }
                }

                // ìë™ìœ¼ë¡œ ë‹¤ìŒ ì…ë ¥ í•„ë“œë¡œ ì´ë™
                if (this.value.length === 1 && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
            });
        });
    }

        function ì‹œì‘íƒ€ì´ë¨¸() {
            if (!íƒ€ì´ë¨¸ì‘ë™ì¤‘) {
                íƒ€ì´ë¨¸ì‘ë™ì¤‘ = true;
                ì‹œì‘ì‹œê°„ = new Date();
                setInterval(updateTimer, 1000);
            }
        }

        function resetGame() {
            // ì‹œì‘ í™”ë©´ì„ ë‹¤ì‹œ í‘œì‹œí•˜ê³  ê²Œì„ í™”ë©´ì„ ìˆ¨ê¹€
            document.getElementById('startScreen').classList.remove('hidden');
            document.getElementById('gameInfo').classList.add('hidden');
            document.getElementById('gameSection').classList.add('hidden');
            ë‹¨ê³„ = 1;
            ì‚¬ìš©ëœë‹¨ì–´ = [];
            ì‹œë„íšŸìˆ˜ = 0;
            // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
            location.reload();
        }

        function ë‹¤ìŒë‹¨ê³„() {
            clearInterval(ì œí•œì‹œê°„íƒ€ì´ë¨¸);  // ê¸°ì¡´ ì œí•œì‹œê°„ íƒ€ì´ë¨¸ ì •ì§€
            ìƒˆë‹¨ì–´();  // ìƒˆë¡œìš´ ë‹¨ì–´ ì„¤ì •
        
            // ë‹¨ê³„ì— ë”°ë¥¸ ì‹œê°„ë§Œ ì„¤ì •í•˜ê³  ìµœëŒ€ ì‹œë„ íšŸìˆ˜ëŠ” ê³ ì •
            var currentInfo = ë‹¨ê³„ì •ë³´[Math.min(ë‹¨ê³„ - 1, ë‹¨ê³„ì •ë³´.length - 1)];  // ìµœëŒ€ ë‹¨ê³„ì •ë³´ë¥¼ ë„˜ì–´ì„œë©´ ë§ˆì§€ë§‰ ë‹¨ê³„ì •ë³´ë¥¼ ê³„ì† ì‚¬ìš©
            ì œí•œì‹œê°„ = currentInfo.ì‹œê°„;  // ì œí•œì‹œê°„ ì„¤ì •

            // ì‹œë„ íšŸìˆ˜ ì´ˆê¸°í™”
            ì‹œë„íšŸìˆ˜ = 0;  // ì‹œë„ íšŸìˆ˜ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”
            document.getElementById('attemptCount').textContent = ì‹œë„íšŸìˆ˜;  // UIì— ë°˜ì˜

            if (!ì±Œë¦°ì§€ëª¨ë“œ){
                var currentInfo = ë‹¨ê³„ì •ë³´[ë‹¨ê³„ - 1];
                ìµœëŒ€ì‹œë„ = currentInfo.ì‹œë„íšŸìˆ˜;  // ë‹¨ê³„ì— ë§ëŠ” ì‹œë„ íšŸìˆ˜ ì„¤ì •
            }
        
            // í˜„ì¬ ë‹¨ê³„ ì—…ë°ì´íŠ¸
            document.getElementById('currentStage').textContent = ë‹¨ê³„;
            document.getElementById('maxAttempts').textContent = ìµœëŒ€ì‹œë„ === Infinity ? 'ë¬´ì œí•œ' : ìµœëŒ€ì‹œë„; // ì±Œë¦°ì§€ ëª¨ë“œì—ì„œ ìµœëŒ€ ì‹œë„ íšŸìˆ˜ ê³ ì •ëœ ê°’ í‘œì‹œ
        
            // ì±Œë¦°ì§€ ëª¨ë“œì¼ ê²½ìš° íƒ€ì´ë¨¸ UI ì—…ë°ì´íŠ¸
            if (ì±Œë¦°ì§€ëª¨ë“œ) {
                document.getElementById('timeLimit').classList.remove('hidden');
                document.getElementById('progressBar').max = ì œí•œì‹œê°„;
                document.getElementById('progressBar').value = ì œí•œì‹œê°„;
            }
        
            // ì…ë ¥ í•„ë“œ ì¬ì„¤ì •
            document.getElementById('gameSection').innerHTML = `
                <br>
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">
                <input class="input" maxlength="1">`;
        
            setInputFilter();  // ì…ë ¥ í•„ë“œ í•„í„° ì„¤ì •
            setAutoTab();  // ìë™ íƒ­ ì„¤ì •
        
            // ì±Œë¦°ì§€ ëª¨ë“œì¼ ê²½ìš° íƒ€ì´ë¨¸ ì¬ì‹œì‘
            if (ì±Œë¦°ì§€ëª¨ë“œ) {
                clearInterval(ì œí•œì‹œê°„íƒ€ì´ë¨¸);  // ì´ì „ íƒ€ì´ë¨¸ ì •ì§€
                startTimeLimitTimer();  // ìƒˆë¡œìš´ íƒ€ì´ë¨¸ ì‹œì‘
            }

            if (ì‹œë„íšŸìˆ˜ >= ìµœëŒ€ì‹œë„) {
                alert("ì‹œë„ íšŸìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤!");  // ê²Œì„ ì¢…ë£Œ ì•Œë¦¼
                resetGame();
                return;
            }
        }

        function ì™„ë£Œ() {
            // ì±Œë¦°ì§€ ëª¨ë“œì—ì„œ ëª¨ë“  ë‹¨ê³„ë¥¼ ì„±ê³µí–ˆì„ ë•Œì˜ í–‰ë™ ì •ì˜
            alert("ê²Œì„ ì™„ë£Œ! ëª¨ë“  ë‹¨ê³„ë¥¼ ì„±ê³µí–ˆìŠµë‹ˆë‹¤!");
            resetGame();  // ê²Œì„ ë¦¬ì…‹
        }

        // ì–¸ì–´ ì„ íƒ ë²„íŠ¼
        document.getElementById('englishButton').addEventListener('click', function () {
            í˜„ì¬ë‹¨ì–´ëª©ë¡ = ë‹¨ì–´ëª©ë¡.english;
            //alert('ì˜ì–´ ëª¨ë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.');
        });

        document.getElementById('koreanButton').addEventListener('click', function () {
            í˜„ì¬ë‹¨ì–´ëª©ë¡ = ë‹¨ì–´ëª©ë¡.korean;
            //alert('í•œê¸€ ëª¨ë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.');
        });

        // ëª¨ë“œ ì„ íƒ ë²„íŠ¼
        document.getElementById('normalModeButton').addEventListener('click', function () {
            ì±Œë¦°ì§€ëª¨ë“œ = false;
            ìµœëŒ€ì‹œë„ = ë‹¨ê³„ìˆ˜;  // ì¼ë°˜ ëª¨ë“œì—ì„œ ìµœëŒ€ ì‹œë„ íšŸìˆ˜ëŠ” ë¬´ì œí•œìœ¼ë¡œ ì„¤ì •
            //alert('ì¼ë°˜ ëª¨ë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.');
        });

        document.getElementById('challengeButton').addEventListener('click', function () {
            ì±Œë¦°ì§€ëª¨ë“œ = true;
            ì œí•œì‹œê°„ = 30;
            ìµœëŒ€ì‹œë„ = 6;  // ìµœëŒ€ ì‹œë„ íšŸìˆ˜ë¥¼ 6ìœ¼ë¡œ ê³ ì •
            document.getElementById('timeLimit').classList.remove('hidden');
            document.getElementById('progressBar').max = ì œí•œì‹œê°„;
            document.getElementById('progressBar').value = ì œí•œì‹œê°„;
            document.getElementById('maxAttempts').textContent = ìµœëŒ€ì‹œë„; // UIì— ë°˜ì˜
        });

        // ê²Œì„ ì‹œì‘ ë²„íŠ¼
        document.getElementById('startButton').addEventListener('click', function () {
            // ì‹œì‘ í™”ë©´ì„ ìˆ¨ê¸°ê³  ê²Œì„ í™”ë©´ì„ í‘œì‹œ
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameInfo').classList.remove('hidden');
            document.getElementById('gameSection').classList.remove('hidden');
            ìƒˆë‹¨ì–´();
        });

        document.addEventListener('keydown', function (event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                ì œì¶œí•˜ê¸°();
                var inputs = document.querySelectorAll('.input');
                if (inputs.length > 0) {
                    inputs[0].focus();
                }
            }
        });

        ìƒˆë‹¨ì–´();
        setInputFilter();
        setAutoTab();
    </script>
</body>
</html>