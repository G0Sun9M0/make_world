<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ˜˜Wordle(ê³ ì„±ëª¨, ì„œìƒí˜¸)</title>
    <style>
        input {
            width: 50px;
            height: 50px;
            border: 1 solid #e5e7eb;
            font-size: 35px;
            border-radius: .375rem;
            text-align: center;
            margin: 0.3px; 
        }
        body {
            text-align: center;
        }
    </style>
</head>

<body>
    <head>
        <h1>ğŸ˜˜Wordle</h1>
        <hr>
    </head>
    <section id="gameSection">
        <br>
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
        <input class="input" maxlength="1">
    </section>
    <script>
        // ë¯¸ë¦¬ ì •ì˜ëœ ë‹¨ì–´ ëª©ë¡
        var ë‹¨ì–´ëª©ë¡ = ['sensor', 'laptop', 'animal', 'window', 'person', 'school', 'friend', 'family', 'number', 'garden'];  
        
        // ëœë¤ìœ¼ë¡œ ë‹µ ì„¤ì •
        var ë‹µ = ë‹¨ì–´ëª©ë¡[Math.floor(Math.random() * ë‹¨ì–´ëª©ë¡.length)];
        console.log(ë‹µ); // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì½˜ì†”ì— ë‹µ ì¶œë ¥ (í•„ìš”ì‹œ ì‚­ì œ)

        var ì‹œë„íšŸìˆ˜ = 0;   // ì‹œë„ íšŸìˆ˜ë¥¼ ê¸°ë¡í•˜ëŠ” ë³€ìˆ˜

        function ì œì¶œí•˜ê¸°() {
            ì‹œë„íšŸìˆ˜++;  // ì œì¶œí•  ë•Œë§ˆë‹¤ ì‹œë„ íšŸìˆ˜ ì¦ê°€
            var input = document.querySelectorAll('.input');
            var ë§ì¶˜ê°¯ìˆ˜ = 0;  // ëª‡ ê°œì˜ ê¸€ìë¥¼ ë§ì·„ëŠ”ì§€ ê¸°ë¡í•˜ëŠ” ë³€ìˆ˜

            // ì…ë ¥í•œ ê¸€ìë¥¼ ê²€ì‚¬
            for (let i = 0; i < 6; i++) {
                if (input[i].value === ë‹µ[i]) {
                    input[i].style.background = '#22c55e';
                    ë§ì¶˜ê°¯ìˆ˜++;
                } else if (ë‹µ.includes(input[i].value)) {
                    input[i].style.background = '#eab308';
                } else {
                    input[i].style.background = '#6b7280';
                    input[i].style.color= '#ffffff';
                }
                input[i].classList.remove('input');
            }

            // ëª¨ë“  ê¸€ìë¥¼ ë§ì¶˜ ê²½ìš° (6ê°œì˜ ê¸€ìê°€ ëª¨ë‘ ì´ˆë¡ìƒ‰ì¸ ê²½ìš°)
            if (ë§ì¶˜ê°¯ìˆ˜ === 6) {
                alert(`ì„±ê³µ! ${ì‹œë„íšŸìˆ˜}ë²ˆ ë§Œì— ë§ì·„ìŠµë‹ˆë‹¤.`);
                // ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ ìƒì„±
                var resetButton = document.createElement('button');
                resetButton.textContent = 'ë‹¤ì‹œ ì‹œì‘';
                resetButton.onclick = resetGame;  // ë²„íŠ¼ í´ë¦­ ì‹œ resetGame í•¨ìˆ˜ í˜¸ì¶œ
                document.body.appendChild(resetButton);
                return;  // ì„±ê³µí•˜ë©´ ì¶”ê°€ ì…ë ¥ì„ ë°›ì§€ ì•Šê³  ì¢…ë£Œ
            }

            // ìƒˆë¡œìš´ ì…ë ¥ ì¹¸ ìƒì„± (6ê°œ)
            
            var template = `
            <div style="margin-top: 5px;">  <!-- ìœ„ì™€ ì—¬ë°±ì„ ìƒì„± -->
                    <input class="input" maxlength="1">
                    <input class="input" maxlength="1">
                    <input class="input" maxlength="1">
                    <input class="input" maxlength="1">
                    <input class="input" maxlength="1">
                    <input class="input" maxlength="1">
                </div>`;
            document.querySelector('body').insertAdjacentHTML('beforeend', template);

            // ìƒˆë¡œ ìƒì„±ëœ ì…ë ¥ì¹¸ì—ë„ ì•ŒíŒŒë²³ í•„í„° ì ìš©
            setInputFilter();
            setAutoTab();
        }

        // ì•ŒíŒŒë²³ë§Œ ì…ë ¥ ê°€ëŠ¥í•˜ë„ë¡ í•„í„°ë§
        function setInputFilter() {
            var inputs = document.querySelectorAll('.input');
            inputs.forEach(function(input) {
                input.addEventListener('input', function() {
                    this.value = this.value.replace(/[^a-zA-Z]/g, '').toLowerCase();
                });
            });
        }

        // ì…ë ¥ì´ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ ë‹¤ìŒ ì…ë ¥ì¹¸ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
        function setAutoTab() {
            var inputs = document.querySelectorAll('.input');
            inputs.forEach(function(input, index) {
                input.addEventListener('input', function() {
                    if (this.value.length === 1 && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                });

                // Backspaceë¡œ ì´ì „ ì¹¸ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
                input.addEventListener('keydown', function(event) {
                    if (event.key === 'Backspace' && input.value === '' && index > 0) {
                        inputs[index - 1].focus();  // ì´ì „ ì¹¸ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
                    }
                });
            });
        }

        function resetGame() {
            location.reload();  // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
        }

        // ì—”í„° í‚¤ë¡œ ì œì¶œí•˜ê¸°
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // ì—”í„° í‚¤ ê¸°ë³¸ ë™ì‘ ì°¨ë‹¨
                ì œì¶œí•˜ê¸°();

                // ì²« ë²ˆì§¸ ì…ë ¥ ì¹¸ì— í¬ì»¤ìŠ¤ë¥¼ ë§ì¶¤
                var inputs = document.querySelectorAll('.input');
                if (inputs.length > 0) {
                    inputs[0].focus();  // ìƒˆë¡œ ìƒì„±ëœ ì¤„ì˜ ì²« ë²ˆì§¸ ì¹¸ì— í¬ì»¤ìŠ¤
                }
            }
        });

        // ì´ˆê¸° ì…ë ¥ í•„í„° ë° ìë™íƒ­ ì„¤ì •
        setInputFilter();
        setAutoTab();
    </script>
</body>
</html>